<?xml version="1.0"?>
<!-- Generated by SVGo -->
<svg width="3054" height="640"
     viewBox="0 0 1527 320"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<style type="text/css">
<![CDATA[
@import url('https://fonts.googleapis.com/css?family=Roboto');
]]>
</style>
<marker id="path-arrow-start" refX="7" refY="3" markerWidth="7" markerHeight="6" orient='auto' >
<path d="M0,3 L7,0 V6 Z" style="fill:rgb(58, 125, 240);" />
</marker>
<marker id="path-arrow-end" refX="0" refY="3" markerWidth="7" markerHeight="6" orient='auto' >
<path d="M0,0 V6 L7,3 Z" style="fill:rgb(58, 125, 240);" />
</marker>
<filter id="drop-shadow" >
<feGaussianBlur in="SourceAlpha" result="baseShadow"  stdDeviation="0.7 0.7" />
<feOffset in="baseShadow" result="offsetBlur"  dx="0" dy="1" />
<feFlood in="baseShadow" result="shadowColor"  flood-fill-color="" flood-fill-opacity="0" flood-color='rgba(0,0,0,0.3)' />
<feComposite in="offsetBlur" in2="shadowColor" result="dropShadow"  operator="in" k1="0" k2="0" k3="0" k4="0" />
<feMerge>
<feMergeNode in="dropShadow"/>
<feMergeNode in="SourceGraphic"/>
</feMerge>
</filter>
</defs>
<desc># Generated by go/gcpdraw&#xA;&#xA;meta {&#xA;  title &#34;Cloud Run on GKE Reference Web App - Build &amp; Infrastructure&#34;&#xA;}&#xA;&#xA;elements {&#xA;  gcp {&#xA;    group provisioning {&#xA;      name &#34;cloudbuild-provision-cluster.yaml&#34;&#xA;      card build as provision&#xA;    &#xA;      card gke {&#xA;        name &#34;Create Cluster&#34;&#xA;      }&#xA;    &#xA;      card iam {&#xA;        name &#34;Create Service Accounts&#34;&#xA;      }&#xA;    &#xA;    &#xA;      card gclb as neg {&#xA;        name &#34;Create Network Endpoint Group&#34;&#xA;      }&#xA;    &#xA;      card generic as install_kcc {&#xA;        name &#34;Install Config Connector&#34;&#xA;      }&#xA;    }&#xA;    &#xA;    group build_infra {&#xA;      name &#34;cloudbuild.yaml&#34;&#xA;      &#xA;      card build as infra_build&#xA;      &#xA;      card gclb as infra_ssl {&#xA;        name &#34;Generate SSL cert&#34;&#xA;        description &#34;(only if necessary)&#34;&#xA;      }&#xA;      &#xA;      card gke as kcc {&#xA;        name &#34;Config Connector&#34;&#xA;      }&#xA;      &#xA;      card gcs {&#xA;        name &#34;Create GCS bucket for static website&#34;&#xA;      }&#xA;      &#xA;      card gclb as network_infra {&#xA;        name &#34;Set up network infrastructure&#34;&#xA;      }&#xA;      &#xA;      card dns {&#xA;        name &#34;Create A record&#34;&#xA;      }&#xA;    }&#xA;    &#xA;    group build_webui {&#xA;      name &#34;webui/cloudbuild.yaml&#34;&#xA;      &#xA;      card build as ui_build&#xA;      &#xA;      card generic as angular_ui {&#xA;        name &#34;Build Angular app&#34;&#xA;      }&#xA;      &#xA;      card gcs as frontend_bucket {&#xA;        name &#34;Copy to GCS bucket&#34;&#xA;      }&#xA;    }&#xA;    &#xA;    group build_backend {&#xA;      name &#34;backend/cloudbuild.yaml&#34;&#xA;      &#xA;      card build as backend_build&#xA;      &#xA;      card generic as go_build {&#xA;        name &#34;Go build&#34;&#xA;      }&#xA;      &#xA;      card gcr {&#xA;        name &#34;Build service container(s)&#34;&#xA;      }&#xA;      &#xA;      group cluster {&#xA;        name &#34;GKE cluster&#34;&#xA;        &#xA;        card run {&#xA;          name &#34;Deploy Cloud Run service(s)&#34;&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;}&#xA;&#xA;paths {&#xA;  provision --&gt; gke&#xA;  provision --&gt; iam&#xA;  provision --&gt; install_kcc&#xA;  provision --&gt; neg&#xA;  install_kcc .up.&gt; gke&#xA;  neg .down.&gt; gke&#xA;  provisioning ..&gt; build_infra&#xA;  &#xA;  infra_build ..&gt; kcc&#xA;  infra_build --&gt; infra_ssl&#xA;  kcc --&gt; gcs&#xA;  kcc --&gt; network_infra&#xA;  kcc --&gt; dns&#xA;  &#xA;  build_infra ..&gt; build_webui&#xA;  ui_build --&gt; angular_ui&#xA;  angular_ui --&gt; frontend_bucket&#xA;  &#xA;  build_infra ..&gt; build_backend&#xA;  backend_build --&gt; go_build&#xA;  go_build --&gt; gcr&#xA;  gcr --&gt; run&#xA;}&#xA;</desc>
<rect x="0" y="0" width="1527" height="20" style="fill:rgb(81, 155, 247);filter:url(#drop-shadow);" />
<text x="24" y="13" style="font-family:Roboto;font-size:8.5px;fill:rgb(255, 255, 255);" >Cloud Run on GKE Reference Web App - Build &amp; Infrastructure</text>
<rect x="0" y="310" width="1527" height="10" style="fill:rgb(224, 224, 224);" />
<rect x="15" y="30" width="1497" height="260" style="fill:rgb(246, 246, 246);" />
<image x="25" y="40" width="120" height="30" xlink:href="https://storage.googleapis.com/gcpdraw-icons/others/gcp_logo.png" />
<rect x="30" y="70" width="297" height="210" style="fill:rgb(227, 242, 253);" />
<text x="35" y="80" style="font-family:Roboto;font-size:7.5px;fill:rgb(158, 158, 158);dominant-baseline:central;" >cloudbuild-provision-cluster.yaml</text>
<rect x="45" y="165" width="75" height="30" style="stroke-Width:0.06;filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);" />
<image x="50" y="170" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/build.png" />
<text x="77" y="172" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud</text>
<text x="77" y="180" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Build</text>
<rect x="150" y="190" width="109" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="155" y="195" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/gke.png" />
<text x="182" y="197" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Create Cluster</text>
<text x="182" y="207" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Kubernetes Engine</text>
<rect x="150" y="90" width="135" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="155" y="95" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/iam.png" />
<text x="182" y="97" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Create Service Accounts</text>
<text x="182" y="107" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud IAM</text>
<rect x="150" y="140" width="162" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="155" y="145" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/load_balancer.png" />
<text x="182" y="147" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Create Network Endpoint Group</text>
<text x="182" y="157" style="font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;font-family:Roboto;" >Cloud Load Balancer</text>
<rect x="150" y="240" width="140" height="30" style="filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;" />
<image x="155" y="245" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/generic.png" />
<text x="182" y="247" style="font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;font-family:Roboto;" >Install Config Connector</text>
<text x="182" y="257" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >-</text>
<rect x="357" y="95" width="472" height="160" style="fill:rgb(227, 242, 253);" />
<text x="362" y="105" style="font-family:Roboto;font-size:7.5px;fill:rgb(158, 158, 158);dominant-baseline:central;" >cloudbuild.yaml</text>
<rect x="372" y="165" width="75" height="30" style="stroke-Width:0.06;filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);" />
<image x="377" y="170" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/build.png" />
<text x="404" y="172" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud</text>
<text x="404" y="180" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Build</text>
<rect x="477" y="132" width="113" height="45" style="filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;" />
<image x="482" y="137" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/load_balancer.png" />
<text x="509" y="139" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);" >Generate SSL cert</text>
<text x="509" y="149" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud Load Balancer</text>
<line x1="509" y1="160" x2="575" y2="160" style="stroke:rgb(224, 224, 224);stroke-Width:0.80;" />
<text x="509" y="163" style="font-size:6.5px;fill:rgb(0, 0, 0);dominant-baseline:text-before-edge;font-family:Roboto;" >(only if necessary)</text>
<rect x="477" y="197" width="109" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="482" y="202" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/gke.png" />
<text x="509" y="204" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Config Connector</text>
<text x="509" y="214" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Kubernetes Engine</text>
<rect x="621" y="115" width="194" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="626" y="120" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/storage.png" />
<text x="653" y="122" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Create GCS bucket for static website</text>
<text x="653" y="132" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud Storage</text>
<rect x="621" y="165" width="162" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="626" y="170" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/load_balancer.png" />
<text x="653" y="172" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Set up network infrastructure</text>
<text x="653" y="182" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);" >Cloud Load Balancer</text>
<rect x="621" y="215" width="109" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="626" y="220" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/dns.png" />
<text x="653" y="222" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Create A record</text>
<text x="653" y="232" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud DNS</text>
<rect x="860" y="90" width="387" height="60" style="fill:rgb(227, 242, 253);" />
<text x="865" y="100" style="font-family:Roboto;font-size:7.5px;fill:rgb(158, 158, 158);dominant-baseline:central;" >webui/cloudbuild.yaml</text>
<rect x="875" y="110" width="75" height="30" style="filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;" />
<image x="880" y="115" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/build.png" />
<text x="907" y="117" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud</text>
<text x="907" y="125" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Build</text>
<rect x="980" y="110" width="109" height="30" style="stroke-Width:0.06;filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);" />
<image x="985" y="115" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/generic.png" />
<text x="1012" y="117" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Build Angular app</text>
<text x="1012" y="127" style="font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;font-family:Roboto;" >-</text>
<rect x="1119" y="110" width="113" height="30" style="stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);fill:rgb(255, 255, 255);" />
<image x="1124" y="115" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/storage.png" />
<text x="1151" y="117" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Copy to GCS bucket</text>
<text x="1151" y="127" style="font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;font-family:Roboto;" >Cloud Storage</text>
<rect x="860" y="170" width="637" height="90" style="fill:rgb(227, 242, 253);" />
<text x="865" y="180" style="font-family:Roboto;font-size:7.5px;fill:rgb(158, 158, 158);dominant-baseline:central;" >backend/cloudbuild.yaml</text>
<rect x="875" y="205" width="75" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="880" y="210" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/build.png" />
<text x="907" y="212" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);" >Cloud</text>
<text x="907" y="220" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);" >Build</text>
<rect x="980" y="205" width="109" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="985" y="210" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/generic.png" />
<text x="1012" y="212" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Go build</text>
<text x="1012" y="222" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >-</text>
<rect x="1119" y="205" width="149" height="30" style="fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);stroke-Width:0.06;filter:url(#drop-shadow);" />
<image x="1124" y="210" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/gcr.png" />
<text x="1151" y="212" style="font-family:Roboto;font-size:7.5px;fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;" >Build service container(s)</text>
<text x="1151" y="222" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Container Registry</text>
<rect x="1298" y="190" width="183" height="60" style="fill:rgb(255, 248, 225);" />
<text x="1303" y="200" style="font-family:Roboto;font-size:7.5px;fill:rgb(158, 158, 158);dominant-baseline:central;" >GKE cluster</text>
<rect x="1313" y="210" width="153" height="30" style="stroke-Width:0.06;filter:url(#drop-shadow);fill:rgb(255, 255, 255);stroke:rgb(0, 0, 0);" />
<image x="1318" y="215" width="20" height="20" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/run.png" />
<text x="1345" y="217" style="fill:rgb(33, 33, 33);dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.5px;" >Deploy Cloud Run service(s)</text>
<text x="1345" y="227" style="font-family:Roboto;font-size:7.0px;fill:rgb(117, 117, 117);dominant-baseline:text-before-edge;" >Cloud Run</text>
<polyline points="120,180 135,180 135,205 143,205" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="120,180 135,180 135,105 143,105" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="120,180 135,180 135,255 143,255" style="fill:none;stroke:rgb(58, 125, 240);marker-end:url(#path-arrow-end);" />
<polyline points="120,180 135,180 135,155 143,155" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="220,240 220,230 204,230 204,227" style="stroke:rgb(58, 125, 240);marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;" />
<polyline points="231,170 231,180 204,180 204,183" style="marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="327,175 342,175 342,175 350,175" style="marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="447,180 462,180 462,212 470,212" style="marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="447,180 462,180 462,155 470,155" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="587,212 604,212 604,130 614,130" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="587,212 604,212 604,180 614,180" style="stroke:rgb(58, 125, 240);marker-end:url(#path-arrow-end);fill:none;" />
<polyline points="587,212 604,212 604,230 614,230" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="830,175 845,175 845,120 853,120" style="marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="950,125 965,125 965,125 973,125" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="1089,125 1104,125 1104,125 1112,125" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="830,175 845,175 845,215 853,215" style="marker-end:url(#path-arrow-end);stroke-dasharray:1,2;fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="950,220 965,220 965,220 973,220" style="fill:none;stroke:rgb(58, 125, 240);marker-end:url(#path-arrow-end);" />
<polyline points="1089,220 1104,220 1104,220 1112,220" style="marker-end:url(#path-arrow-end);fill:none;stroke:rgb(58, 125, 240);" />
<polyline points="1268,220 1291,220 1291,225 1306,225" style="stroke:rgb(58, 125, 240);marker-end:url(#path-arrow-end);fill:none;" />
</svg>
